# Development configuration for docker-compose
# Use this for development with hot reload and exposed ports

version: '3.8'

services:
  api:
    build:
      target: builder
    volumes:
      - .:/app
    working_dir: /app
    command: ["go", "run", "cmd/server/main.go"]
    environment:
      GIN_MODE: debug
    ports:
      - "8080:8080"
      - "2345:2345"  # Debug port if using delve
    # Stay alive for development
    restart: unless-stopped

  mysql:
    ports:
      - "3306:3306"  # Expose for external access (e.g., MySQL Workbench)
